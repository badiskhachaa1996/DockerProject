<div class="grid">
    <div class="col-12">
        <p-dialog header="Merci de suivre ces instructions avant d'ajouter une nouvelle séance"
            [(visible)]="display" modal="modal" showEffect="fade" [style]="{width: '30vw'}"
            [breakpoints]="{'960px': '75vw'}">
            <p class="line-height-3 m-0">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam,
                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
                in reprehenderit
                in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
                laborum.
            </p>
            <ng-template pTemplate="footer">
                <button pButton icon="pi pi-check" (click)="display=false" label="Ok"
                    class="p-button-outlined"></button>
            </ng-template>
        </p-dialog>
        <div class="grid">
            <div class="col-12">
                <button (click)="display=true" pButton icon="pi pi-info-circle" label="Informations"
                    style="width:auto;"></button>
            </div>
        </div>
    </div>
</div>

<div class="grid">
    <div class="col-12">
        <div class="card">
            <h4 style="text-align: center;">Ajouter un partenaire</h4>
            <form class="p-fluid p-formgrid grid" [formGroup]="registerForm" (ngSubmit)="saveUser()">

                <div class="field col-12">
                    <label For="societe">Nom de la société</label>
                    <input pInputText id="societe" type="text" formControlName="nomSoc" />

                    <div *ngIf="nomSoc.invalid && (nomSoc.touched || nomSoc.dirty)">
                        <span class="error" *ngIf="nomSoc.errors?.required">
                            *Le nom est obligatoire
                        </span>
                        <span class="error" *ngIf="nomSoc.errors?.pattern">
                            *Seul les lettres sont acceptés
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-6">
                    <label>Type</label>
                    <p-dropdown [options]="typeSoc" optionLabel="value" formControlName="type"></p-dropdown>
                </div>
                <div class="field col-12 md:col-6">
                    <label>Format juridique</label>
                    <p-dropdown [options]="formatJuridique" optionLabel="value" formControlName="format_juridique"></p-dropdown>
                </div>
                <div class="field col-12 md:col-2">
                    <label For="Indicatif">Indicatif</label>
                    <input pInputText id="Indicatif" type="text" formControlName="indicatif" />
                </div>

                <div class="field col-12 md:col-10">
                    <label For="tel">Téléphone</label>
                    <input pInputText id="tel" type="tel" formControlName="phonePartenaire" />

                    <div *ngIf="phonePartenaire.invalid && (phonePartenaire.touched || phonePartenaire.dirty)">
                        <span class="error" *ngIf="phonePartenaire.errors?.required">
                            *Le téléphone est obligatoire.
                        </span>
                        <span class="error" *ngIf="phonePartenaire.errors?.minlength || phonePartenaire.errors?.maxlength">
                            *Le téléphone n'est pas dans le bon format.
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-6">
                    <label For="email">Email</label>
                    <input pInputText id="email" type="email" formControlName="emailPartenaire" />

                    <div *ngIf="emailPartenaire.invalid && (emailPartenaire.touched || emailPartenaire.dirty)">
                        <span class="error" *ngIf="emailPartenaire.errors">
                            *L'email est obligatoire.
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-6">
                    <label For="tva">TVA</label>
                    <input pInputText id="tva" type="text" formControlName="number_TVA" />

                    <div *ngIf="number_TVA.invalid && (number_TVA.touched || number_TVA.dirty)">
                        <span class="error" *ngIf="number_TVA.errors?.required">
                            *Le numéro de TVA est obligatoire.
                        </span>
                        <span class="error" *ngIf="number_TVA.errors?.pattern">
                            *Le numéro de TVA semble incorrect.
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-4">
                    <label For="siren">SIREN</label>
                    <input pInputText id="siren" type="text" formControlName="SIREN" />

                    <div *ngIf="SIREN.invalid && (SIREN.touched || SIREN.dirty)">
                        <span class="error" *ngIf="SIREN.errors?.required">
                            *Le numéro de SIREN est obligatoire.
                        </span>
                        <span class="error" *ngIf="SIREN.errors?.pattern">
                            *Le numéro de SIREN semble incorrect.
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-4">
                    <label For="siret">SIRET</label>
                    <input pInputText id="siret" type="text" formControlName="SIRET" />

                    <div *ngIf="SIRET.invalid && (SIRET.touched || SIRET.dirty)">
                        <span class="error" *ngIf="SIRET.errors?.required">
                            *Le numéro de SIRET est obligatoire.
                        </span>
                        <span class="error" *ngIf="SIRET.errors?.pattern">
                            *Le numéro de SIRET semble incorrect.
                        </span>
                    </div>
                </div>

                <div class="field col-12 md:col-4">
                    <label For="ape">Code APE</label>
                    <input pInputText id="ape" type="text" formControlName="APE" />

                    <div *ngIf="APE.invalid && (APE.touched || APE.dirty)">
                        <span class="error" *ngIf="APE.errors?.required">
                            *Le code APE est obligatoire.
                        </span>
                        <span class="error" *ngIf="APE.errors?.pattern">
                            *Le code APE semble incorrect.
                        </span>
                    </div>
                </div>

                <div class="field col-12">
                    <label For="service">Services proposés</label>
                    <textarea id="service" pInputTextarea placeholder="Services proposés" autoResize rows="3" cols="30" formControlName="Services"></textarea>

                    <div *ngIf="Services.invalid && (Services.touched || Services.dirty)">
                        <span class="error" *ngIf="Services.errors?.required">
                            *Les Services proposés est obligatoire.
                        </span>
                        <span class="error" *ngIf="Services.errors?.pattern">
                            *Les Services proposés semble incorrect.
                        </span>
                    </div>
                </div>

                <div class="field col-12">
                    <label For="pays">Pays d'activité</label>
                    <textarea id="pays" pInputTextarea placeholder="Pays d'activité" autoResize rows="3" cols="30" formControlName="Pays"></textarea>

                    <div *ngIf="Pays.invalid && (Pays.touched || Pays.dirty)">
                        <span class="error" *ngIf="Pays.errors?.required">
                            *Les pays d'activités sont obligatoires.
                        </span>
                        <span class="error" *ngIf="Pays.errors?.pattern">
                            *Les pays d'activités sont incorrect.
                        </span>
                    </div>
                </div>
                    
                <div style="justify-content: right;">
                    <button pButton label="Ajouter" [disabled]="registerForm.invalid"></button>
                </div>
            </form>
        </div>
    </div>
</div>
