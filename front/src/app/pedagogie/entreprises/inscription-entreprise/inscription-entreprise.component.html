<!-- Appelation -->
<!-- Activité -->
<!-- Adresse du siège social -->
<!-- Adresse du contrat -->
<!-- Caisse de retraite complémentaire -->
<!-- Convention Collective -->
<!-- Code IDCC -->
<!-- N° de Siret -->
<!-- Nombre de salariés -->
<!-- Indicatif + Téléphone -->
<!-- Code NAF -->
<!-- OPCO -->
<!-- Informations du dirigeant
Nom et Prénom du Gérant ou du Dirigeant :
	
Téléphone :
		E-mail :	
 -->
<!-- Informations des tuteurs
Nom, Prénom & Date de naissance du Tuteur : 
		Né le : 	
Fonction :		Ancienneté dans la fonction occupée :	
Téléphone :		E-mail :	
Niveau de formation du tuteur : 	

-->
<!--
    
CONTRAT DE L’ALTERNANT

Date de début du Contrat:
		Date de fin de Contrat :	
Horaires de l’entreprise :
	
Nom de l’Alternant:
		Date & lieu de naissance :	
Intitulé de l’emploi occupé par l’Alternant : 
	
Classification de l’emploi dans la convention collective (pour contract) :
	
Niveau :
		Coefficient hiérarchique :	
Formation suivie :
	

-->

<!--
    Date et signature du Responsable de l’entreprise : 	Date et signature du tuteur : 
-->
<p-toast></p-toast>
<div class="col-8 col-offset-2 flex justify-content-center flex-wrap card-container">
    <div class="card">
        <h4 style="text-align: center;">Formulaire de demande d'admission</h4>
        <div style="text-align: center;">
            <small>Tous les champs marqués d'un asterix <span style="color: red;"> * </span> sont
                obligatoires</small><br>
        </div>
        <br>

        <p-timeline [value]="formSteps" layout="horizontal">
            <ng-template pTemplate="content" let-event>
                {{event}}
            </ng-template>
        </p-timeline>
        <form [formGroup]="RegisterForm" (ngSubmit)="onAddProspect()">
            <div *ngIf="ActiveIndex==0">
                <div style="text-align: center;">
                    <small>Remplissez les données de votre profil. Cela ne vous prendra que quelques
                        minutes.</small><br>
                </div>
                <p-fieldset legend="Informations personnelles" [style]="{'color': 'red', 'font-weight': 'bold'}">
                    <div style="color: black;font-weight:normal">
                        <div class="p-fluid p-formgrid grid">
                            <div class="field col-12 md:col-2">
                                <label For="civilite">Civilité<span style="color: red;"> * </span></label>
                                <p-dropdown [options]="civiliteList" optionLabel="value" optionDisabled="actif"
                                    formControlName="civilite"></p-dropdown>
                            </div>
                            <div class="field col-12 md:col-12">
                                <label For="raison_sociale">Appelation <span style="color: red;"> * </span></label>
                                <input pInputText id="raison_sociale" type="text" placeholder="Eduhorizons"
                                    formControlName="raison_sociale" />
                                <div *ngIf="raison_sociale.invalid && (raison_sociale.touched || raison_sociale.dirty)">
                                    <span style="color: red;" class="error" *ngIf="raison_sociale.errors?.required">*
                                        L'appelation
                                        est obligatoire</span>
                                    <!--<span style="color: red;" class="error" *ngIf="raison_sociale.errors?.pattern">* Seul les
                                        lettres sont acceptés</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-12">
                                <label For="activite">Activité de l'entreprise <span style="color: red;"> *
                                    </span></label>
                                <textarea pTextArea id="activite" type="text"
                                    placeholder="Création de site web pour professionel"
                                    formControlName="activite"></textarea>
                                <div *ngIf="activite.invalid && (activite.touched || activite.dirty)">
                                    <span style="color: red;" class="error" *ngIf="activite.errors?.required">* Les
                                        activités sont obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                        lettres sont acceptés.</span>-->
                                </div>
                            </div>

                            <div class="field col-12 md:col-6">
                                <label For="crc">Caisse de retraite complémentaire : <span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="crc" type="text" placeholder="KLESIA" formControlName="crc" />
                                <div *ngIf="crc.invalid && (crc.touched || crc.dirty)">
                                    <span style="color: red;" class="error" *ngIf="crc.errors?.required">*
                                        La Caisse de retraite complémentaire est obligatoire</span>
                                    <!--<span style="color: red;" class="error" *ngIf="raison_sociale.errors?.pattern">* Seul les
                                        lettres sont acceptés</span>-->
                                </div>
                            </div>

                            <div class="field col-12 md:col-8">
                                <label For="convention">Convention Collective : <span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="convention" type="text"
                                    placeholder="Bureaux d'études techniques, cabinets d'ingénieurs-conseils et sociétés de conseils"
                                    formControlName="convention" />
                                <div *ngIf="convention.invalid && (convention.touched || convention.dirty)">
                                    <span style="color: red;" class="error" *ngIf="convention.errors?.required">*
                                        La Convention Collective est obligatoire</span>
                                    <!--<span style="color: red;" class="error" *ngIf="raison_sociale.errors?.pattern">* Seul les
                                        lettres sont acceptés</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-4">
                                <label For="idcc">Code IDCC: <span style="color: red;"> *
                                    </span></label>
                                <input pInputText type="number" placeholder="1486" formControlName="crc" />
                                <div *ngIf="idcc.invalid && (idcc.touched || idcc.dirty)">
                                    <span style="color: red;" class="error" *ngIf="idcc.errors?.required">*
                                        Le code IDCC est obligatoire</span>
                                    <span style="color: red;" class="error" *ngIf="raison_sociale.errors?.pattern">* Seul les
                                        chiffres sont acceptés</span>
                                </div>
                            </div>

                            <!--Adresse du siège social-->
                            <h3>Adresse du siège social</h3>
                            <div class="field col-12 md:col-6">
                                <label For="adresse_ss">Adresse du Siège sociale <span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="adresse_ss" type="text" placeholder="15 Rue du Louvre"
                                    formControlName="adresse_ss" />
                                <div *ngIf="adresse_ss.invalid && (adresse_ss.touched || adresse_ss.dirty)">
                                    <span style="color: red;" class="error" *ngIf="adresse_ss.errors?.required">*
                                        L'adresse du siège sociale est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-3">
                                <label For="postal_ss">Code Postal du Siège sociale <span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="postal_ss" type="text" placeholder="75001"
                                    formControlName="postal_ss" />
                                <div *ngIf="postal_ss.invalid && (postal_ss.touched || postal_ss.dirty)">
                                    <span style="color: red;" class="error" *ngIf="postal_ss.errors?.required">*
                                        L'adresse du siège sociale est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-3">
                                <label For="ville_ss">Ville du Siège sociale <span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="ville_ss" type="text" placeholder="Paris"
                                    formControlName="ville_ss" />
                                <div *ngIf="ville_ss.invalid && (ville_ss.touched || ville_ss.dirty)">
                                    <span style="color: red;" class="error" *ngIf="ville_ss.errors?.required">* La ville
                                        du siège sociale est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>
                            <!--Adresse d’exécution du contrat -->
                            <h3>Adresse d’exécution du contrat </h3>
                            <div class="field col-12 md:col-6">
                                <label For="adresse_ec">Adresse de l’exécution du contrat<span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="adresse_ec" type="text" placeholder="15 Rue du Louvre"
                                    formControlName="adresse_ec" />
                                <div *ngIf="adresse_ec.invalid && (adresse_ec.touched || adresse_ec.dirty)">
                                    <span style="color: red;" class="error" *ngIf="adresse_ec.errors?.required">*
                                        L'adresse d’exécution du contrat est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-3">
                                <label For="postal_ec">Code Postal de l’exécution du contrat<span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="postal_ec" type="text" placeholder="75001"
                                    formControlName="postal_ec" />
                                <div *ngIf="postal_ec.invalid && (postal_ec.touched || postal_ec.dirty)">
                                    <span style="color: red;" class="error" *ngIf="postal_ec.errors?.required">*
                                        L'adresse d’exécution du contrat est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>
                            <div class="field col-12 md:col-3">
                                <label For="ville_ec">Ville de l’exécution du contrat<span style="color: red;"> *
                                    </span></label>
                                <input pInputText id="ville_ec" type="text" placeholder="Paris"
                                    formControlName="ville_ec" />
                                <div *ngIf="ville_ec.invalid && (ville_ec.touched || ville_ec.dirty)">
                                    <span style="color: red;" class="error" *ngIf="ville_ec.errors?.required">* La ville
                                        de l’exécution du contrat est obligatoire.</span>
                                    <!--<span style="color: red;" class="error" *ngIf="firstname.errors?.pattern">* Seul les
                                                                    lettres sont acceptés.</span>-->
                                </div>
                            </div>

                        </div>
                    </div>
                    <div>
                        <button pButton type="button" label="Suivant" style="float: right;"
                            [disabled]="civilite.invalid || lastname.invalid || firstname.invalid || date_naissance.invalid || nationalite.value==null || 
                        pays_adresse.invalid || email.invalid || indicatif.invalid || phone.invalid || numero_whatsapp.invalid || emailExist "
                            (click)="nextPage();verifEmailInBD()"></button>
                    </div>
                </p-fieldset>
            </div>
            <div *ngIf="ActiveIndex==4">
                <div style="text-align: center;">
                    <small>C'est la dernière étapes, nous avons presques terminé !</small><br>
                </div>
                <p-fieldset legend="Notre partenaire d'accompagnement Eduhorizons"
                    [style]="{'color': 'red', 'font-weight': 'bold'}">
                    <div class="grid" style="color: black;font-weight:normal">
                        <div class="p-fluid p-formgrid grid">
                            <div class="field col-12 md:col-12">
                                <label For="agence">Etes-vous passé par une agence d'orientation ? <span
                                        style="color: red;"> *
                                    </span></label>
                                <p-selectButton formControlName="isGarant"
                                    [options]="[{label:'Oui',value:true},{label:'Non',value:false}]">
                                </p-selectButton>
                            </div>
                            <div class="field col-12 md:col-6" *ngIf="RegisterForm.value.agence">
                                <label For="oui_agence">Si oui, quel est le nom de cette agence ?<span
                                        style="color: red;"> * </span></label>
                                <input pInputText id="oui_agence" type="text" placeholder="Expériences professionnel" />
                            </div>
                            <div class="field col-12 md:col-12">
                                <label For="code_commercial">Code commercial<span style="color: red;"> * </span></label>
                                <input pInputText id="code_commercial" type="text" placeholder="EHPFRA01"
                                    formControlName="code_commercial" />
                            </div>
                            <div class="ui-g-12 ui-md-12">
                                <h6>J'ai pris connaissances et lu les <a href="/#/mentions-legales"
                                        target="_blank">mentions légales</a> et accepte que mes données soient utiliseés
                                    dans le cadre de mon accompagnement
                                    et dans le traitement de ma demande ?</h6>
                                <div>
                                    <p-radioButton value=true name="donneePerso" formControlName="donneePerso">
                                    </p-radioButton>
                                    <label for="oui"> Oui</label>
                                </div>
                                <div style="margin-top: 2px;">
                                    <p-radioButton value=false name="donneePerso" formControlName="donneePerso">
                                    </p-radioButton>
                                    <label for="non"> Non</label>
                                </div>
                            </div>
                        </div>
                    </div><br>
                    <div>
                        <button pButton type="button" label="Précedent" style="float: left;"
                            (click)="previousPage()"></button>
                        <button pButton type="button" label="Suivant"
                            [disabled]="agence.invalid || nomAgence.invalid || code_commercial.invalid || donneePerso.value==false"
                            type="submit" style="float: right;"></button>
                    </div>
                </p-fieldset>
            </div>