<div class="grid">
    <div class="card col-12 md:col-6 ">
        Details assiduité {{Etudiant_userdata?.civilite}} {{Etudiant_userdata?.firstname }}
        {{Etudiant_userdata?.lastname
        }}
        <p-chart #chart type="bar" [data]="barDataAJ" [options]="barOptions" width="full-vw" height="40vh"></p-chart>
    </div>

    <div class="card col-12 md:col-6  ">
        <p-chart #chart2 type="bar" [data]="barDataHorAJ" [options]="horizontalOptions" width="full-vw" height="40vh">
        </p-chart>
    </div>

    <div class="card col-12">
        <p-toast></p-toast>
        <p-table #dt1 [value]="AssiduiteListe" dataKey="_id" responsiveLayout="scroll"
            [globalFilterFields]="['isPresent', 'date_signature', 'seance_id', 'justificatif']" [rows]="15"
            [pageLinks]="5" [paginator]="true" [totalRecords]="AssiduiteListe?.length">
            <ng-template pTemplate="caption">
                <h5>Listes des seances</h5>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>Module </th>

                    <th pSortableColumn="_id">Date de la seance <p-sortIcon field="_id"></p-sortIcon>
                    </th>
                    <th pSortableColumn="seance_id">Seance<p-sortIcon field="seance_id">
                        </p-sortIcon>
                    </th>
                    <th>Present/Absent</th>
                    <th>Heure d'arrivé</th>
                    <th>Justitificatif </th>


                    <th>Action </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-Assiduit>
                <tr>
                    <td>{{matiereDic[ ListeSeanceDIC[Assiduit.seance_id]?.matiere_id]?.abbrv}}</td>

                    <td>
                        {{ ListeSeanceDIC[Assiduit.seance_id]?.date_debut | date : "dd/MM/yyyy hh:mm:ss" }} </td>
                    <td> {{ ListeSeanceDIC[Assiduit.seance_id]?.libelle}}</td>

                    <td *ngIf="Assiduit.isPresent">
                        <p-tag severity="success">Present</p-tag>
                    </td>
                    <td *ngIf="!Assiduit.isPresent">
                        <p-tag severity="warning">Absent</p-tag>
                    </td>

                    <td>{{ (Assiduit.date_signature) ? (Assiduit.date_signature | date : "hh:mm:ss":'locale' ) :'--' }}
                    </td>
                    <td *ngIf="Assiduit.isPresent">--</td>
                    <td *ngIf="!Assiduit.isPresent && Assiduit.justificatif">
                        <p-tag severity="success">Justifié</p-tag>
                    </td>
                    <td *ngIf="!Assiduit.isPresent && !Assiduit.justificatif">
                        <p-tag severity="error">Non Justifié</p-tag>
                    </td>
                    <td>

                        <i *ngIf="Assiduit.justificatif" pTooltip="Voir le justificatif" tooltipPosition="bottom"
                            class="pi pi-file" style="margin-left: 2%;" (click)="VoirJustificatif(Assiduit._id)"
                            aria-hidden="true"></i>
                    </td>
                </tr>
            </ng-template>

        </p-table>
    </div>

</div>