<!-- LISTE DES INSCRIPTIONS POUR AGENT PEDAGOGIE/ADMISSION -->
<div class="col-12">
    <div class="card">
        <div style="float: right;">
            <button pButton icon="pi pi-trash" label="Nettoyer les doublons" (click)="clearDoublon();"></button>
        </div>
        <h5>Liste des retours du formulaire</h5>
        <p-table #dt1 rowExpandMode="single" [value]="events"
                 dataKey="_id" [rows]="8" 
                 [rowHover]="true"
                 [globalFilterFields]="['email', 'nom','phone', 'source', 'prenom','etablissement']"
                 styleClass="p-datatable-gridlines" [paginator]="true" [pageLinks]="5"
                 responsiveLayout="scroll">

                 <ng-template pTemplate="caption">
                    <div class="flex justify-content-between flex-column sm:flex-row">
                        <!-- <div class="field">                                
                            <span style="margin-left: 2px;">
                                <p-dropdown filter="true" [options]="formationList" optionLabel="titre"
                                            (onChange)="dt1.filter($event.value._id, 'formation_id', 'equals')"
                                            emptyFilterMessage="Pas de diplôme trouvé" filterPlaceholder="Nom du diplôme">
                                </p-dropdown>
                            </span>
                        </div> -->
                        <span class="p-input-icon-left mb-2">
                            <i class="pi pi-search"></i>
                            <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Recherche" class="w-full"/>
                        </span>
                    </div>
                </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="nom" style="text-align:center"> Nom <p-sortIcon field="nom"></p-sortIcon></th>
                    <th pSortableColumn="prenom" style="text-align:center"> Prénom<p-sortIcon field="prenom"></p-sortIcon></th>
                    <th pSortableColumn="date_naissance" style="text-align:center"> Date de naissance <p-sortIcon field="date_naissance"></p-sortIcon></th>
                    <th pSortableColumn="pays_naissance" style="text-align:center"> Pays de naissance<p-sortIcon field="pays_naissance"></p-sortIcon></th>
                    <th pSortableColumn="nationalite" style="text-align:center"> Nationalité<p-sortIcon field="nationalite"></p-sortIcon></th>   
                    <th pSortableColumn="email" style="text-align:center"> Email<p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="phone" style="text-align:center"> Téléphone<p-sortIcon field="phone"></p-sortIcon></th>
                    <th pSortableColumn="domaine" style="text-align:center"> Domaine desiré<p-sortIcon field="domaine"></p-sortIcon></th>
                    <th pSortableColumn="source" style="text-align:center"> Source<p-sortIcon field="source"></p-sortIcon></th>
                    <th pSortableColumn="inscrit_etablissement" style="text-align:center"> Est inscrit à un établissement <p-sortIcon field="inscrit_etablissement"></p-sortIcon></th>  
                    <th pSortableColumn="etablissement" style="text-align:center"> Etablissement inscrit <p-sortIcon field="etablissement"></p-sortIcon></th>  
            </ng-template>
            <ng-template pTemplate="body" let-event>
                <tr>
                    <td style="min-width: 12rem;">
                        {{ event.nom }}
                        
                    </td>
                    <td style="min-width: 12rem;">
                       {{ event.prenom }}
                    </td>
                    <td >
                        {{ event.date_naissance | date:'dd MMMM yy' }}
                    </td>
                    <td>
                        {{ event.pays_naissance }}
                    </td>
                    <td>
                        {{ event.nationalite}}
                    </td>
                    <td>
                        {{ event.email}}
                    </td>
                    <td>
                        {{ event.phone}}
                    </td>
                    <td>
                        {{ event.domaine}}
                    </td>
                    <td>
                        {{ event.source}}
                    </td>
                    <td *ngIf="event.inscrit_etablissement">
                        Oui
                    </td>
                    <td *ngIf="!event.inscrit_etablissement">
                        Non
                    </td>
                    <td>
                        {{ event.etablissement}}
                    </td>
                    <!-- <td> -->
                        <!-- <i pTooltip="Modifier" tooltipPosition="bottom" class="pi pi-pencil"
                            (click)="showFormModifTuteur = true; updateTuteurId = tuteur._id; OnGetByIdTuteur(tuteur); showFormAddTuteur = false;"
                            aria-hidden="true"></i> -->
                    <!-- </td> -->
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
