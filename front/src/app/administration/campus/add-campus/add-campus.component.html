<p-toast key="tst" [baseZIndex]="99999"></p-toast>
<div class="grid">
    <div class="col-12">
        <p-dialog header="Merci de suivre ces instructions avant d'ajouter une nouvelle séance" [(visible)]="display"
            modal="modal" showEffect="fade" [style]="{width: '30vw'}" [breakpoints]="{'960px': '75vw'}">
            <p class="line-height-3 m-0">
                Merci de penser à bien selectionner l'école qui sera rattacher au campus et de 
                vérifier les informations saisies pour l'adresse du campus.
            </p>
            <ng-template pTemplate="footer">
                <button pButton icon="pi pi-check" (click)="display=false" label="Ok"
                    class="p-button-outlined"></button>
            </ng-template>
        </p-dialog>
        <div class="grid">
            <div class="col-12">
                <button (click)="display=true" pButton icon="pi pi-info-circle" label="Informations"
                    style="width:auto;"></button>
            </div>
        </div>
    </div>
</div>
<div class="grid">
    <div class="col-12">
        <div class="card">
            <h4 style="text-align: center;">Ajouter un campus</h4>
            <div style="text-align: center;">
                <small>Tous les champs marqués d'un asterique <span style="color: red;"> * </span> sont obligatoires</small><br>
            </div>
            <br>
            <form class="p-fluid p-formgrid grid" [formGroup]="addcampusForm" (ngSubmit)="saveCampus()">
                <div class="field col-12 md:col-6">
                    <label for="libelle">Libellé <span style="color: red;"> * </span></label>
                    <input pInputText id="libelle" type="text" formControlName="libelle" placeholder="Nom du campus" />
                    <div *ngIf="libelle.invalid && ( libelle.touched || libelle.dirty)">
                        <span  style="color: red;" class="error" *ngIf="libelle.errors?.required" style="color: red;">* Le nom du campus est obligatoire </span>
                        <span  style="color: red;" class="error" *ngIf="libelle.errors?.pattern" style="color: red;">* Le nom du campus n'est pas dans le bon format </span>
                    </div>  
                </div>
                <div class="field col-12 md:col-6">
                    <label for="email">Email <span style="color: red;"> * </span></label>
                    <input pInputText id="email" type="email" formControlName="email" placeholder="Email du siége du campus" />
                    <div *ngIf="email.invalid && ( email.touched || email.dirty)">
                        <span  style="color: red;" class="error" *ngIf="email.errors?.required" style="color: red;">* L'email est obligatoire </span>
                        <span  style="color: red;" class="error" *ngIf="email.errors?.pattern" style="color: red;">* L'email n'est pas dans le bon format (format acccepter : @estya.com, @estyagroup.com, @elitech.education, @eduhorizons.com ou @adgeducation.com) </span>
                    </div>  
                </div>
                <div class="field col-12 md:col-6">
                    <label for="site">Site Web</label>
                    <input pInputText id="site" type="text" formControlName="site" placeholder="Site web du campus" />
                </div>
                <div class="field col-12 md:col-6">
                    <label for="ecole">Ecole <span style="color: red;"> * </span></label>
                    <p-dropdown formControlName="ecole_id" [options]="dropdownEcole" optionLabel="label"></p-dropdown>
                    <div *ngIf="ecole_id.invalid && ( ecole_id.touched || ecole_id.dirty)">
                        <span  style="color: red;" class="error" *ngIf="email.errors?.required" style="color: red;">* L'école est obligatoire </span>
                    </div>  
                </div>
                <div class="field col-12 md:col-4">
                    <label for="adress">Adresse <span style="color: red;"> * </span></label>
                    <input pInputText id="adress" type="text" formControlName="adresse" placeholder="Adresse du siége du campus" />
                    <div *ngIf="adresse.invalid && ( adresse.touched || adresse.dirty)">
                        <span  style="color: red;" class="error" *ngIf="adresse.errors?.required" style="color: red;">* L'adresse est obligatoire </span>
                    </div>  
                </div>
                <div class="field col-12 md:col-4">
                    <label for="ville">Ville <span style="color: red;"> * </span></label>
                    <input pInputText id="ville" type="text" formControlName="ville" placeholder="Ville du siége du campus" />
                    <div *ngIf="ville.invalid && ( ville.touched || ville.dirty)">
                        <span  style="color: red;" class="error" *ngIf="ville.errors?.required" style="color: red;">* La ville est obligatoire </span>
                        <span  style="color: red;" class="error" *ngIf="ville.errors?.pattern" style="color: red;">* La ville n'est pas dans le bon format </span>
                    </div>  
                </div>
                <div class="field col-12 md:col-4">
                    <label for="ville">Pays <span style="color: red;"> * </span></label>
                    <input pInputText id="ville" type="text" formControlName="pays" placeholder="Pays du siége du campus" />
                    <div *ngIf="pays.invalid && ( pays.touched || pays.dirty)">
                        <span  style="color: red;" class="error" *ngIf="pays.errors?.required" style="color: red;">* Le pays est obligatoire </span>
                        <span  style="color: red;" class="error" *ngIf="pays.errors?.pattern" style="color: red;">* Le pays n'est pas dans le bon format </span>
                    </div>  
                </div>
                <div style="justify-content: right;">
                    <button pButton label="Ajouter" type="submit" [disabled]="addcampusForm.invalid"></button>
                </div>
            </form>

            <a routerLink="/campus" style="float: right;"><i class="pi pi-caret-right"></i> Voir les campus</a>
        </div>
    </div>
</div>