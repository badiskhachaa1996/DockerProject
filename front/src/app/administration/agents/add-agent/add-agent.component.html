<p-dialog header="Merci de suivre ces instructions avant d'ajouter un nouveau ticket" [(visible)]="display" modal="modal" showEffect="fade" [style]="{width: '30vw'}" [breakpoints]="{'960px': '75vw'}">
    <p class="line-height-3 m-0">
        Voici les informationns à savoir pour créer un nouveau Agent : 
    </p>
    <ul>
        <li><span style="color: red;">Service</span> : Choissisez le service correspondant à votre Agent. </li>
        <li><span style="color: red;">Role</span> : Choisissez le Role de l'agent </li>
   
    </ul>
    <p class="line-height-3 m-0">
        Il vous suffit par la suite de cliquer sur le bouton <span style="font-weight: bold;">"Ajouter un agent"</span> pour finaliser la création du l'agent
    </p>
    <ng-template pTemplate="footer">
            <button pButton icon="pi pi-check" (click)="display=false" label="Ok" class="p-button-outlined"></button>
    </ng-template>
</p-dialog>
<div class="grid">
    <div class="col-12">
        <button (click)="display=true" pButton icon="pi pi-info-circle" label="Informations" style="width:auto;"></button>
    </div>
</div>

<div class="grid">
    <div class="col-12">
        <div class="card">
            <p-toast></p-toast>
            <h4 style="text-align: center;">Ajouter un agent</h4>
            <form class="p-fluid p-formgrid grid"   (ngSubmit)="saveUser();RegisterForm.reset()" [formGroup]="RegisterForm">
                <div class="field col-12 md:col-4">
                    <label For="libelle">Civilité</label>
                    <p-dropdown formControlName="civilite" [options]="civiliteList" optionLabel="value"></p-dropdown>

                </div>
                <div class="field col-12 md:col-4">
                    <label For="nom">Nom</label>
                    <input pInputText id="nom" type="text" formControlName="firstname" />
                </div>
                <div class="field col-12 md:col-4">
                    <label For="prenom">Prénom</label>
                    <input pInputText id="prenom" formControlName="lastname" type="text" />
                </div>
                <div class="field col-12 md:col-6">
                    <label For="email">Adresse email</label>
                    <input pInputText id="email" type="email"  formControlName="email" />
                </div>
                <div class="field col-12 md:col-6">
                    <label For="adresse">Adresse postale</label>
                    <input pInputText id="adresse" type="text" formControlName="rue_adresse" />
                </div>
                <div class="field col-12 md:col-4">
                    <label For="code_postale">Code postale</label>
                    <input pInputText id="code_postale"formControlName="postal_adresse" type="text" />
                </div>
                <div class="field col-12 md:col-4">
                    <label For="ville">Ville</label>
                    <input pInputText id="ville" type="text"formControlName="ville_adresse" />
                </div>
                <div class="field col-12 md:col-4">
                    <label For="pays">Pays</label>
                    <input pInputText id="pays"formControlName="pays_adresse" type="text" />
                </div>
                <div class="field col-12 md:col-2">
                    <label For="indicatif">Indicatif</label>
                    <input pInputText id="indicatif" type="text" formControlName="indicatif" />
                </div>
                <div class="field col-12 md:col-5">
                    <label For="phone">Numéro de téléphone</label>
                    <input pInputText id="phone" type="text" formControlName="phone" />
                </div>
                <div class="field col-12 md:col-5">
                    <label For="statut">Statut</label>
                    <p-dropdown [options]="statutList" optionLabel="value" formControlName="type"></p-dropdown>
                </div>
                <div class="field col-12 md:col-4">
                    <label For="campus">Campus</label>
                    <p-dropdown [options]="campusList" optionLabel="libelle" formControlName="campus"></p-dropdown>
                </div>
                <div class="field col-12 md:col-4">
                    <label For="groupe">Groupe</label>
                    <!--liste à changer dans le ts-->
                    <p-dropdown [options]="formationList" optionLabel="libelle" formControlName="formation"></p-dropdown>
                </div>
                <div class="field col-12 md:col-4">
                    <label For="entreprise">Entreprise</label>
                    <!--liste à changer dans le ts-->
                    <p-dropdown [options]="entreprisesList" optionLabel="libelle" formControlName="entreprise"></p-dropdown>
                </div>
                <div class="field col-12 md:col-6">
                    <label For="role">Rôle</label>
                    <p-dropdown [options]="roleList" optionLabel="value"formControlName="role"></p-dropdown>
                </div>
                <div class="field col-12 md:col-6">
                    <label For="service">Service</label>
                    <!--liste à changer dans le ts-->
                    <p-dropdown [options]="serviceList" optionLabel="label" formControlName="service_id"></p-dropdown>
                </div>
                <div style="justify-content: right;">
                    <button pButton type="submit" label="Ajouter"  [disabled]="RegisterForm.invalid"></button>
                </div>
            </form>
        </div>
    </div>
</div>