<div class="grid col-12 card">
    <div class="col-3">
        <div class="card mb-0">
            <label>Responsable</label>
            <br> <br>
            <p-dropdown  [options]="responsablesListe" filter="true" placeholder="Choisissez le nom"
            (onChange)="onResponsableSelected($event)"  [showClear]="true"></p-dropdown>

        </div>
    </div>
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre total des projets</span>
                    <div class="text-900 font-medium text-xl">{{nbr_projet}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-blue-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-shield text-blue-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre des projets en cours</span>
                    <div class="text-900 font-medium text-xl">{{nbr_projet_encour}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-cyan-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-replay text-cyan-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre des projets cloturés</span>
                    <div class="text-900 font-medium text-xl">{{nbr_projet_cloture}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-green-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-check-square text-green-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="grid col-12 card">
    <div class="col-3">
        <div class="card mb-0">
            <label>Projet</label>
            <br><br>
            <p-dropdown  [options]="projectListe" filter="true" placeholder="projet"
            (onChange)="onProjectSelected($event)"  [showClear]="true"></p-dropdown>

        </div>
    </div>
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre total des activités</span>
                    <div class="text-900 font-medium text-xl">{{nbr_taches}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-blue-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-shield text-blue-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre des activités en cours</span>
                    <div class="text-900 font-medium text-xl">{{nbr_tache_encour}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-green-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-replay text-green-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-3">
        <div class="card mb-0">
            <div class="flex justify-content-between mb-4">
                <div>
                    <span class="block text-500 font-medium mb-4">Nombre des activités cloturées</span>
                    <div class="text-900 font-medium text-xl">{{nbr_tache_traite}}</div>
                </div>
                <div class="flex align-items-center justify-content-center bg-green-100 border-round"
                    [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
                    <i class="pi pi-check-square text-green-500 text-xl"></i>
                </div>
            </div>
        </div>
    </div>
    
</div>
<div class="grid col-12 card">
    <div class="col-3">
        <div class="card mb-0">
            <label>Activité</label>
            <br>
            <p-dropdown  [options]="taskListe" filter="true" placeholder="activité"
            (onChange)="onTacheSelected($event)" [showClear]="true"></p-dropdown>

        </div>
    </div>
    <div class="grid col-9" >
        
       
        <p-table #dt1 dataKey="_id" [rows]="100" [rowHover]="true" [paginator]="true"[value]="tasks" [paginator]="true"
        rowExpandMode="single" [pageLinks]="5" selectionMode="single" class="col-12"
         responsiveLayout="scroll"
        styleClass="p-datatable-gridlines">
        <ng-template pTemplate="header">
            <tr>
                <th style="border-right: 1px solid gray;" > ID</th>
               
                <th style="border-right: 1px solid gray;"> Collaborateur </th>
                <th style="border-right: 1px solid gray;"> Délais de traitement </th>
                <th style="border-right: 1px solid gray;"> Avancement </th>

            </tr>  
            </ng-template>
            <ng-template  pTemplate="body" let-t let-rir="rowIndex">
            <tr>
                <td style="border-right: 1px solid gray;">{{t?.identifian}}</td>
                <td style="border-right: 1px solid gray;">{{t.attribuate_to[0]}} </td>
                <td style="border-right: 1px solid gray;">{{getDelaiTraitrement(rir)}}</td>
                <td style="border-right:  1px solid gray;">{{t?.avancement}}</td>
                
            </tr>
        </ng-template>
    </p-table>
    
    </div>
</div>