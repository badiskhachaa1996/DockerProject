<p-toast></p-toast>
<div class="card grid col-12">
    <h4 style="text-align: center;">Complétion de votre profil IMS</h4>

    <form class="p-fluid p-formgrid grid" (ngSubmit)="saveUser()" [formGroup]="RegisterForm">
        <div class="field col-12 md:col-4">
            <label for="civilite">Civilité <span style="color: red;"> * </span></label>
            <p-dropdown formControlName="civilite" [options]="civiliteList" optionLabel="label" optionValue="label"></p-dropdown>
            <div *ngIf="civilite.invalid && (civilite.touched || civilite.dirty)">
                <span class="error" *ngIf="civilite.errors?.required" style="color: red;">* La civilité est
                    obligatoire</span>
            </div>
        </div>
        <div class="field col-12 md:col-4">
            <label for="lastname">Nom <span style="color: red;"> * </span></label>
            <input type="text" formControlName="lastname" placeholder="Ex: Smith" pInputText>
            <div *ngIf="lastname.invalid && (lastname.touched || lastname.dirty)">
                <span class="error" *ngIf="lastname.errors?.required" style="color: red;">* Le nom est
                    obligatoire</span>
                <span class="error" *ngIf="lastname.errors?.pattern" style="color: red;">* Seul les lettres sont
                    acceptés</span>
            </div>
        </div>
        <div class="field col-12 md:col-4">
            <label for="firstname">Prénom <span style="color: red;"> * </span></label>
            <input type="text" formControlName="firstname" placeholder="Ex: John" pInputText>
            <div *ngIf="firstname.invalid && (firstname.touched || firstname.dirty)">
                <span class="error" *ngIf="firstname.errors?.required" style="color: red;">* Le prénom est
                    obligatoire.</span>
                <span class="error" *ngIf="firstname.errors?.pattern" style="color: red;">* Seul les lettres
                    sont acceptés.</span>
            </div>
        </div>
        <div class="field col-12 md:col-6">
            <label For="Téléphone">Téléphone </label><br>
            <input type="text" formControlName="phone" placeholder="+33 0683151917" pInputText>
        </div>

        <div class="field col-12 md:col-2">
            <label for="numero_adresse">Numéro de la rue <span style="color: red;"> * </span></label>
            <input type="text" formControlName="numero_adresse" placeholder="Ex: 15" pInputText>
            <div *ngIf="numero_adresse.invalid && (numero_adresse.touched || numero_adresse.dirty)">
                <span class="error" *ngIf="numero_adresse.errors?.required" style="color: red;">* Le numéro de
                    l'adresse est obligatoire.</span>
                <span class="error" *ngIf="numero_adresse.errors?.pattern" style="color: red;">* Seul les
                    chiffres sont acceptés.</span>
            </div>
        </div>

        <div class="field col-12 md:col-6">
            <label for="rue_adresse">Nom de la rue <span style="color: red;"> * </span></label>
            <input type="text" formControlName="rue_adresse" placeholder="Ex: Avenue Montaigne" pInputText>
            <div *ngIf="rue_adresse.invalid && (rue_adresse.touched || rue_adresse.dirty)">
                <span class="error" *ngIf="rue_adresse.errors?.required" style="color: red;">* Le nom de la rue
                    est obligatoire.</span>
                <span class="error" *ngIf="rue_adresse.errors?.pattern" style="color: red;">* Seul les lettres
                    sont acceptés.</span>
            </div>
        </div>

        <div class="field col-12 md:col-4">
            <label for="postal_adresse">Code postal <span style="color: red;"> * </span></label>
            <input type="text" formControlName="postal_adresse" placeholder="Ex: 75008" pInputText>
            <div *ngIf="postal_adresse.invalid && (postal_adresse.touched || postal_adresse.dirty)">
                <span class="error" *ngIf="postal_adresse.errors?.required" style="color: red;">* Le code postal
                    est obligatoire.</span>
                <span class="error" *ngIf="postal_adresse.errors?.pattern" style="color: red;">* Seul les
                    chiffres sont acceptés.</span>
            </div>
        </div>
        <div class="field col-12 md:col-6">
            <label for="ville_adresse">Ville <span style="color: red;"> * </span></label>
            <input type="text" formControlName="ville_adresse" placeholder="Ex: Paris" pInputText>
            <div *ngIf="ville_adresse.invalid && (ville_adresse.touched || ville_adresse.dirty)">
                <span class="error" *ngIf="ville_adresse.errors?.required" style="color: red;">* La ville est
                    obligatoire.</span>
                <span class="error" *ngIf="ville_adresse.errors?.pattern" style="color: red;">* Seul les lettres
                    sont acceptés.</span>
            </div>
        </div>


        <div class="field col-12 md:col-6">
            <label for="pays_adresse">Pays <span style="color: red;"> * </span></label>
            <!-- <input type="text" formControlName="pays_adresse" placeholder="France" pInputText> -->
            <p-dropdown formControlName="pays_adresse" [options]="paysList" optionLabel="viewValue" optionValue="value"
                emptyFilterMessage="Pas de pays trouvé" placeholder="Choissisez un pays" filterPlaceholder="France"
                filter="true"></p-dropdown>
            <div *ngIf="pays_adresse.invalid && (pays_adresse.touched || pays_adresse.dirty)">
                <span class="error" *ngIf="pays_adresse.errors?.required" style="color: red;">*Le pays est
                    obligatoire.</span>
            </div>
        </div>

        <div class="field col-12 md:col-6">
            <label for="pays_adresse">Mot de passe <span style="color: red;"> * </span></label>
            <p-password formControlName="password_clear"></p-password>
        </div>
        <div class="field col-12 md:col-6">
            <label for="pays_adresse">Confirmé votre mot de passe<span style="color: red;"> * </span></label>
            <p-password formControlName="password_confirmed" [feedback]="false"></p-password>
            <div
                *ngIf="password_confirmed.value!=password_clear.value && (password_confirmed.touched ||password_confirmed.dirty)">
                <span class="error" style="color: red;">*Les mots de passe ne correspondent pas.</span>
            </div>
        </div>
        <div class="field col-12 md:col-4">
            <button pButton type="submit" [disabled]="RegisterForm.invalid || password_confirmed.value!=password_clear.value" label="Enregistrer"></button>
        </div>
    </form>
</div>