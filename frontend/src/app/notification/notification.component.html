

<div class="grid">
    
    
    <div class="col-10 col-offset-1">
        
        <div *ngIf="retour" >
            <a [routerLink]= "['/ticket/suivi']"> Suivre mes tickets </a>  / <a [routerLink]= "['/notification']"> Page des notifications </a> 
        </div>
        <h3>Notifications</h3>
        <div class="card shadow-lg timeline">
            <div *ngIf="notifications.length!=0">
                <i pTooltip="Marqué comme vu pour toutes les notifications" tooltipPosition="bottom" class="pi pi-times-circle"
                    style="cursor: pointer; font-size: 27px; margin-left: 98%; color: red;" (click)="retirertout()"></i>
            </div>
            <ul>
                <li *ngFor="let notif of notifications">
                    <div class="grid">
                        <div class="col-fixed">
                            <div class="timeline-icon">
                                <i class="pi pi-inbox" style="font-size: 30px;"></i>
                            </div>
                        </div>
                        <div class="col" >
                            <div class="time-line-event" *ngIf="notif && sujetDic[listTicket[notif.ticket_id].sujet_id].label">
                                <span class="timeline-event-title">{{notif.type}}</span>
                                <div class="timeline-event-message" *ngIf="notif.type==='Nouveau Ticket Affecté'">
                                    Un nouveau ticket "{{sujetDic[listTicket[notif.ticket_id].sujet_id].label}}" vous a été affecté
                                </div>
                                <div class="timeline-event-message" *ngIf="notif.type==='Nouveau Message'">
                                    <div >Vous avez reçu un nouveau message sur le ticket : "{{sujetDic[listTicket[notif.ticket_id].sujet_id].label}}"
                                    <i pTooltip="Marqué comme vu" tooltipPosition="bottom" class="pi pi-check"
                                        style="cursor: pointer; font-size: 20px; color: green; float:right;"
                                        (click)="retirer(notif)"></i></div>
                                </div>
                                <div class="timeline-event-message" *ngIf="notif.type==='Modification d\'un ticket'">
                                    <div>Votre ticket "{{sujetDic[listTicket[notif.ticket_id].sujet_id].label}}" a été redirigé vers un autre service ou un autre sujet par un agent
                                    <i pTooltip="Marqué comme vu" tooltipPosition="bottom" class="pi pi-check"
                                        style="cursor: pointer; font-size: 20px; color: green; float:right;"
                                        (click)="retirer(notif)"></i></div>
                                </div>
                                <div class="timeline-event-message" *ngIf="notif.type==='Traitement de votre ticket'">
                                    <div>Votre ticket "{{sujetDic[listTicket[notif.ticket_id].sujet_id].label}}" a été traité
                                    <i pTooltip="Marqué comme vu" tooltipPosition="bottom" class="pi pi-check"
                                        style="cursor: pointer; font-size: 20px; color: green; float:right;"
                                        (click)="retirer(notif)"></i></div>
                                </div>
                                <div class="timeline-event-message" *ngIf="notif.type==='Revert d\'un ticket'">
                                    <div>Votre ticket "{{sujetDic[listTicket[notif.ticket_id].sujet_id].label}}" a été renvoyé dans la queue d'entrée
                                    <i pTooltip="Marqué comme vu" tooltipPosition="bottom" class="pi pi-check"
                                        style="cursor: pointer; font-size: 20px; color: green; float:right;"
                                        (click)="retirer(notif)"></i></div>
                                </div>
                                <div class="timeline-event-time">
                                    {{notif.date_ajout | date:'dd/MM/yyyy HH:mm'}}
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                </ul>
                <div *ngIf="notifications.length==0 ">
                    <div >Vous n'avez aucune notifications pour le moment... Revenez plus tard !
                        <i class="pi pi-clock" style="font-size: 25px; color: red; float: right;"></i>
                    </div>
                </div>      
            </div>
        </div>
</div>



                                
