<div class="p-grid">
    
    <div class="xl:col-8 xl:col-offset-2 col-12" >
        <p-card>
            <div class="p-grid">
                <form class="col-8 col-offset-2 " [formGroup]="serviceForm" 
                style="display: none;" id="a_masquer" *ngIf="showForm">
                    <div class="p-grid" >
                        <div class="mt-2 mb-2 col-12" id="form1" >
                            <h3 class="text-center" >Ajouter un service</h3>
                            <input type="text" formControlName="label" class="form-control col-12"
                                placeholder="Le nom du service" pInputText >
                        </div>                           
                    </div>        
                </form>
          
             
                <form class="col-8 col-offset-2" [formGroup]="serviceForm" style="display: none;" id="aa_masquer">        
                    <h3 class="text-center">Modifier le service</h3>
                        <div class="p-grid">
                            <div class="mt-2 mb-2 col-12">       
                            <input type="text" formControlName="label" name="label" class="form-control col-12"
                            placeholder="Le nom du service"pInputText/>
                            </div>        
                        <div class="col-offset-5 md:col-offset-5 sm:col-offset-4">
                            <button pButton class="ui-button-raised ui-button-success" [disabled]="serviceForm.invalid" 
                            label="Enregistrer" 
                            (click)="modifyService();div3('aa_masquer')"></button>
                        </div>
                    </div>
                </form>
   
                <div class=" xl:col-offset-10 sm:col-offset-4 " >
                 <button pButton class="ui-button-raised ui-button-success" 
                  (click)="masquer_div2('a_masquer'); toggleForm()"  id="btnAccept" [label]="showForm"></button>
                </div>

                <h3>Liste des services</h3>

                <div class="col-12 card shadow-lg my-5 ">
                    <p-table *ngIf="services" [columns]="cols" [value]="services" selectionMode="single"
                        [(selection)]="currentService" (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)"
                         [rows]="4"  
                        [paginator]="true" [pageLinks]="5" [responsive]="true">
                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <th class="col-8 col-offset-4" >
                                    Service
                                </th>

                                <th class="col-4 col-offset-2">
                                    Action
                                </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-rowData let-columns="columns">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="columns">
                                <td *ngFor="let col of columns">

                                    {{rowData.label}}
                               
                                </td>
                             
                                <td>
                                    <div class=" xl:col-offset-6 sm:col-offset-4" style="cursor: pointer;" >
                                    <i class="pi pi-pencil" (click)="edit(rowData);div3('aa_masquer');" id="btnAccept" ></i>
                                    </div>
                                    <!-- <i class="pi pi-trash" (click)="deleteService(rowData)"></i> -->
                                </td>

                            </tr>
                        </ng-template>
                    </p-table>
                </div>
                <div *ngIf="currentService">
                    <form class="col-8 col-offset-2" [formGroup]="sujetForm" style="display: none;" id="2aa_masquer" 
                    *ngIf="showwForm">

                        <h3 class="text-center">Ajouter un sujet</h3>
                        <div class="p-grid">

                            <div class="mt-2 mb-2 col-12">
                                <input type="text" formControlName="label" class="form-control col-12"
                                    placeholder="Le nom du sujet" pInputText>
                            </div>
                            
                        </div>
                      
                    </form>
                    <form class="col-8 col-offset-2" [formGroup]="sujetForm"style="display: none;" id="1aa_masquer">
                        <h3 class="text-center">Modifier le sujet</h3>
                            <div class="p-grid">
                                <div class="mt-2 mb-2 col-12">
                                    
                                <input type="text" formControlName="label" name="label" class="form-control col-12"
                                placeholder="Le nom du service" pInputText/>
                                </div>  
                                
                            <div class="col-offset-5 md:col-offset-5 sm:col-offset-4">
                                <button pButton class="ui-button-raised ui-button-success" [disabled]="sujetForm.invalid" label="Enregistrer" 
                                (click)="modifySujet();div3('1aa_masquer')"></button>
                            </div>
                        </div>
                    </form>
                    <div class=" xl:col-offset-10 sm:col-offset-4 " >
                        <button pButton class="ui-button-raised ui-button-success"
                             (click)="masquer_div('2aa_masquer'); toggleForm2()" id="btnAccept2" [label]="showwForm"></button>
                             
                    </div>
                   

                    <h3>{{currentService.label}}: Liste des sujets </h3>
                    <div class="col-12 card shadow-lg my-5">
                        <p-table *ngIf="sujetShow" [columns]="cols" [value]="sujetShow"  [rows]="4"  
                        [paginator]="true" [pageLinks]="5" [responsive]="true">
                            <ng-template pTemplate="header" let-columns>
                                <th class="col-8 col-offset-4" >
                                    Sujet
                                </th>

                                <th class="col-4 col-offset-2">
                                    Action
                                </th>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-columns="columns">
                                <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="columns">
                                   
                                    <td  *ngFor="let col of columns">
    
                                        {{rowData.label}}
                                    </td>
                                  
                                    <td>
                                        <div class=" xl:col-offset-6 sm:col-offset-4" style="cursor: pointer;">
                                        <i class="pi pi-pencil" (click)="editSujet(rowData);div3('1aa_masquer')"></i>
                                        </div>
                                        <!-- <i class="pi pi-trash" (click)="deleteSujet(rowData)"></i> -->
                                    </td>
    
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>


            </div>
        </p-card>

    </div>
</div>